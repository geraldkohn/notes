# MD5 算法原理

散列函数，也称作哈希函数，消息摘要函数，单向函数或者杂凑函数。散列函数主要用于验证数据的完整性。通过散列函数，可以创建消息的“数字指纹”，消息接收方可以通过校验消息的哈希值来验证消息的完整性，防止消息被篡改。散列函数具有以下特性：

1. 散列函数的运算过程是不可逆的，这个称为散列函数的单向性。
2. 对于一个已知的消息及其散列值，要找到另外一个消息使其获得相同的散列值是不可能的，这个特性称为散列函数的弱碰撞性。这个特性可以用来防止消息伪造。

MD—消息摘要算法，SHA—安全散列算法，MAC—消息认证码算法。

**MD5：产生128位的数据，如果将消息转换为16进制字符串，那么就会产生一个32字节长度的16进制字符串。**

## 填充信息

在MD5算法中，首先需要对信息进行填充，使其位长对512求余的结果等于448，**并且填充必须进行，即使其位长对512求余的结果等于448**。因此，信息的位长（Bits Length）将被扩展至N*512+448，N为一个非负整数，N可以是零。

填充的方法如下：

**1)** 在信息的后面填充一个1和无数个0，直到满足上面的条件时才停止用0对信息的填充。

**2)** 在这个结果后面附加一个以64位二进制表示的填充前信息长度（单位为Bit），如果二进制表示的填充前信息长度超过64位，则取低64位。

## 初始化变量

## 处理分组信息



## 问题：

### 1 MD5为什么支持流式计算？

MD5是分组计算的，源信息被填充为 N*512 + 448 bit 的形式，除了最后一组，每一组的大小都是 512 bit。然后进行MD5核心算法计算，将计算结果与之前的计算结果做运算，然后得出新的计算结果作为当前结果。所以说，只要流式计算分片大小不小于 512 bit，就能够保证 MD5 结果与非流式计算一致。


